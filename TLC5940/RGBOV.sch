EESchema Schematic File Version 2  date 2/17/2013 1:15:41 PM
LIBS:kirill
LIBS:power
LIBS:device
LIBS:transistors
LIBS:conn
LIBS:linear
LIBS:regul
LIBS:74xx
LIBS:cmos4000
LIBS:adc-dac
LIBS:memory
LIBS:xilinx
LIBS:special
LIBS:microcontrollers
LIBS:dsp
LIBS:microchip
LIBS:analog_switches
LIBS:motorola
LIBS:texas
LIBS:intel
LIBS:audio
LIBS:interface
LIBS:digital-audio
LIBS:philips
LIBS:display
LIBS:cypress
LIBS:siliconi
LIBS:opto
LIBS:atmel
LIBS:contrib
LIBS:valves
LIBS:atmega16
LIBS:stepper drivers
LIBS:relays
LIBS:RGBOV-cache
EELAYER 25  0
EELAYER END
$Descr User 11000 17000
encoding utf-8
Sheet 1 1
Title ""
Date "17 feb 2013"
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
Wire Wire Line
	4750 6050 4750 6150
Wire Wire Line
	5150 5600 5450 5600
Wire Wire Line
	5450 5600 5450 4800
Wire Wire Line
	5450 4800 5350 4800
Connection ~ 2900 2900
Wire Wire Line
	2900 2900 2900 3000
Wire Wire Line
	2850 3200 3450 3200
Wire Wire Line
	5250 2000 5450 2000
Wire Wire Line
	5250 2000 5250 1800
Wire Wire Line
	5350 3600 5550 3600
Connection ~ 5900 10600
Wire Wire Line
	5800 10600 5900 10600
Wire Wire Line
	6250 4250 6250 3400
Connection ~ 6650 6350
Wire Wire Line
	7350 9300 6650 9300
Wire Wire Line
	6650 9300 6650 2900
Connection ~ 6700 6250
Wire Wire Line
	7350 9200 6700 9200
Wire Wire Line
	6700 9200 6700 3200
Connection ~ 6450 6050
Wire Wire Line
	7350 9000 6450 9000
Wire Wire Line
	6450 9000 6450 3350
Connection ~ 6500 5950
Wire Wire Line
	7350 8900 6500 8900
Wire Wire Line
	6500 8900 6500 3250
Wire Wire Line
	7350 8800 6000 8800
Wire Wire Line
	6000 8800 6000 3950
Wire Wire Line
	6000 3950 5350 3950
Wire Wire Line
	7000 9700 7000 10550
Wire Wire Line
	7000 10550 8050 10550
Wire Wire Line
	8050 7600 7000 7600
Wire Wire Line
	7000 7600 7000 6750
Connection ~ 9100 2800
Wire Wire Line
	9100 2450 9100 4200
Connection ~ 9100 3200
Connection ~ 9100 3100
Connection ~ 9100 2900
Connection ~ 9100 3500
Connection ~ 9100 3700
Connection ~ 9100 3900
Connection ~ 9100 4100
Wire Notes Line
	9250 4250 9250 2750
Wire Notes Line
	9250 4250 9050 4250
Wire Notes Line
	9050 3650 9250 3650
Wire Notes Line
	9050 3050 9250 3050
Wire Wire Line
	6250 4250 7350 4250
Wire Wire Line
	6250 3400 5350 3400
Wire Wire Line
	6500 3250 7350 3250
Wire Wire Line
	5350 5200 6500 5200
Wire Wire Line
	5350 3750 6000 3750
Wire Wire Line
	6000 3750 6000 3150
Wire Wire Line
	6000 3150 7350 3150
Wire Wire Line
	5600 6100 5600 4600
Wire Wire Line
	5600 4600 5350 4600
Wire Wire Line
	6650 3650 7350 3650
Wire Wire Line
	6650 2900 5350 2900
Wire Wire Line
	3450 5200 3450 5100
Wire Wire Line
	5900 11050 5900 4700
Wire Wire Line
	5900 4700 5350 4700
Wire Wire Line
	5350 4500 5700 4500
Wire Wire Line
	5700 4500 5700 6100
Wire Wire Line
	6700 3200 5350 3200
Wire Wire Line
	7350 3550 6700 3550
Wire Wire Line
	5350 4900 6450 4900
Wire Wire Line
	6450 3350 7350 3350
Wire Wire Line
	7350 3850 6300 3850
Wire Wire Line
	5350 3300 6300 3300
Wire Wire Line
	8050 4900 7000 4900
Wire Wire Line
	7000 4900 7000 4050
Wire Notes Line
	9050 3350 9250 3350
Wire Notes Line
	9050 3950 9250 3950
Wire Notes Line
	9250 2750 9050 2750
Connection ~ 9100 4000
Connection ~ 9100 3800
Connection ~ 9100 3600
Connection ~ 9100 3000
Connection ~ 9100 3400
Connection ~ 9100 3300
Wire Notes Line
	6950 4050 6800 4050
Wire Notes Line
	6800 4050 6800 1800
Wire Wire Line
	5350 3850 6050 3850
Wire Wire Line
	6050 3850 6050 5850
Wire Wire Line
	6050 5850 7350 5850
Wire Wire Line
	6500 5950 7350 5950
Connection ~ 6500 5200
Wire Wire Line
	6450 6050 7350 6050
Connection ~ 6450 4900
Wire Wire Line
	6700 6250 7350 6250
Connection ~ 6700 3550
Wire Wire Line
	6650 6350 7350 6350
Connection ~ 6650 3650
Wire Wire Line
	6300 3300 6300 3850
Wire Wire Line
	5350 3500 5450 3500
Wire Wire Line
	5450 3500 5450 2000
Wire Wire Line
	5550 3600 5550 2000
Wire Wire Line
	5550 2000 5700 2000
Wire Wire Line
	5700 2000 5700 1800
Wire Wire Line
	3450 2900 2850 2900
Wire Wire Line
	2900 3200 2900 3300
Connection ~ 2900 3200
Wire Wire Line
	4750 5600 4750 5700
$Comp
L GND #PWR?
U 1 1 51211DF2
P 4750 6200
F 0 "#PWR?" H 4500 6350 60  0001 C CNN
F 1 "GND" H 4650 5900 60  0001 C CNN
	1    4750 6200
	1    0    0    -1  
$EndComp
$Comp
L R-US R?
U 1 1 51211DDE
P 4650 5850
F 0 "R?" H 4650 5850 60  0000 C CNN
F 1 "330" H 4650 5650 60  0000 C CNN
	1    4650 5850
	0    -1   -1   0   
$EndComp
Text Notes 4950 5850 0    60   ~ 0
PROG\nindicator
$Comp
L LED D?
U 1 1 51211DB7
P 4950 5600
F 0 "D?" H 4950 5700 50  0000 C CNN
F 1 "LED" H 4950 5500 50  0000 C CNN
	1    4950 5600
	-1   0    0    1   
$EndComp
$Comp
L GND #PWR?
U 1 1 51211D5B
P 3150 3350
F 0 "#PWR?" H 2900 3500 60  0001 C CNN
F 1 "GND" H 3050 3050 60  0001 C CNN
	1    3150 3350
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 51211D56
P 3150 3050
F 0 "#PWR?" H 2900 3200 60  0001 C CNN
F 1 "GND" H 3050 2750 60  0001 C CNN
	1    3150 3050
	1    0    0    -1  
$EndComp
$Comp
L C C4
U 1 1 51211D4F
P 3000 3300
F 0 "C4" H 2900 3400 60  0000 C CNN
F 1 "C" H 2900 3250 60  0000 C CNN
	1    3000 3300
	-1   0    0    1   
$EndComp
$Comp
L C C3
U 1 1 51211D38
P 3000 3000
F 0 "C3" H 2900 3100 60  0000 C CNN
F 1 "C" H 2900 2950 60  0000 C CNN
	1    3000 3000
	-1   0    0    1   
$EndComp
$Comp
L +5V #PWR?
U 1 1 51211D2C
P 2850 3200
F 0 "#PWR?" H 2850 3290 20  0001 C CNN
F 1 "+5V" H 2850 3290 30  0000 C CNN
	1    2850 3200
	0    -1   -1   0   
$EndComp
NoConn ~ 3450 3500
$Comp
L GND #PWR?
U 1 1 51211CF8
P 5700 2300
F 0 "#PWR?" H 5450 2450 60  0001 C CNN
F 1 "GND" H 5600 2000 60  0001 C CNN
	1    5700 2300
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 51211CBA
P 5250 2300
F 0 "#PWR?" H 5000 2450 60  0001 C CNN
F 1 "GND" H 5150 2000 60  0001 C CNN
	1    5250 2300
	1    0    0    -1  
$EndComp
$Comp
L C C2
U 1 1 51211CB4
P 5700 2150
F 0 "C2" H 5600 2250 60  0000 C CNN
F 1 "22pF" H 5600 2100 60  0000 C CNN
	1    5700 2150
	0    1    1    0   
$EndComp
$Comp
L C C1
U 1 1 51211CAF
P 5250 2100
F 0 "C1" H 5150 2200 60  0000 C CNN
F 1 "22pF" H 5150 2050 60  0000 C CNN
	1    5250 2100
	0    -1   -1   0   
$EndComp
$Comp
L CRYSTAL X1
U 1 1 51211C88
P 5450 1800
F 0 "X1" H 5450 1950 60  0000 C CNN
F 1 "CRYSTAL" H 5450 1600 60  0000 C CNN
	1    5450 1800
	-1   0    0    1   
$EndComp
$Comp
L +5V #PWR?
U 1 1 51211C72
P 5700 4350
F 0 "#PWR?" H 5700 4440 20  0001 C CNN
F 1 "+5V" H 5700 4440 30  0000 C CNN
	1    5700 4350
	0    1    1    0   
$EndComp
$Comp
L R-US R?
U 1 1 51211C60
P 5550 4250
F 0 "R?" H 5550 4250 60  0000 C CNN
F 1 "4k7" H 5550 4050 60  0000 C CNN
	1    5550 4250
	1    0    0    -1  
$EndComp
Text Notes 5100 10300 0    60   ~ 0
Hall switch on\nindicator
NoConn ~ 8700 7000
NoConn ~ 8700 9950
Text Notes 6550 7500 1    60   ~ 0
green
Text Notes 6450 4650 1    60   ~ 0
white
Text Notes 6450 8400 1    60   ~ 0
white
Text Notes 5600 3750 0    60   ~ 0
black
Text Notes 5600 3950 0    60   ~ 0
yellow
Text Notes 5600 3850 0    60   ~ 0
yellow
$Comp
L GND #PWR?
U 1 1 511EC669
P 7350 6600
F 0 "#PWR?" H 7100 6750 60  0001 C CNN
F 1 "GND" H 7250 6300 60  0001 C CNN
	1    7350 6600
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 511EC665
P 7350 7000
F 0 "#PWR?" H 7100 7150 60  0001 C CNN
F 1 "GND" H 7250 6700 60  0001 C CNN
	1    7350 7000
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 511EC655
P 7350 9550
F 0 "#PWR?" H 7100 9700 60  0001 C CNN
F 1 "GND" H 7250 9250 60  0001 C CNN
	1    7350 9550
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 511EC632
P 7350 9950
F 0 "#PWR?" H 7100 10100 60  0001 C CNN
F 1 "GND" H 7250 9650 60  0001 C CNN
	1    7350 9950
	1    0    0    -1  
$EndComp
Text Notes 5600 2900 0    60   ~ 0
white
Text Notes 5600 3200 0    60   ~ 0
red
$Comp
L GND #PWR?
U 1 1 511EC2BD
P 8050 7900
F 0 "#PWR?" H 7800 8050 60  0001 C CNN
F 1 "GND" H 7950 7600 60  0001 C CNN
	1    8050 7900
	1    0    0    -1  
$EndComp
$Comp
L TLC5940 IC?
U 1 1 511EC2BC
P 8050 9300
F 0 "IC?" H 7650 10450 60  0000 C CNN
F 1 "TLC5940" H 8050 9350 60  0000 C CNN
	1    8050 9300
	1    0    0    -1  
$EndComp
$Comp
L +5V #PWR?
U 1 1 511EC2BB
P 8050 8200
F 0 "#PWR?" H 8050 8290 20  0001 C CNN
F 1 "+5V" H 8050 8290 30  0000 C CNN
	1    8050 8200
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 511EC2BA
P 8050 10600
F 0 "#PWR?" H 7800 10750 60  0001 C CNN
F 1 "GND" H 7950 10300 60  0001 C CNN
	1    8050 10600
	1    0    0    -1  
$EndComp
NoConn ~ 8700 10250
NoConn ~ 8700 10150
$Comp
L R-US R?
U 1 1 511EC2B9
P 7200 9600
F 0 "R?" H 7200 9600 60  0000 C CNN
F 1 "2K2" H 7200 9400 60  0000 C CNN
	1    7200 9600
	1    0    0    -1  
$EndComp
$Comp
L R-US R?
U 1 1 511EC119
P 7200 6650
F 0 "R?" H 7200 6650 60  0000 C CNN
F 1 "2K2" H 7200 6450 60  0000 C CNN
	1    7200 6650
	1    0    0    -1  
$EndComp
NoConn ~ 8700 7200
NoConn ~ 8700 7300
$Comp
L GND #PWR?
U 1 1 511EC10A
P 8050 7650
F 0 "#PWR?" H 7800 7800 60  0001 C CNN
F 1 "GND" H 7950 7350 60  0001 C CNN
	1    8050 7650
	1    0    0    -1  
$EndComp
$Comp
L +5V #PWR?
U 1 1 511EC0FE
P 8050 5250
F 0 "#PWR?" H 8050 5340 20  0001 C CNN
F 1 "+5V" H 8050 5340 30  0000 C CNN
	1    8050 5250
	1    0    0    -1  
$EndComp
$Comp
L TLC5940 IC?
U 1 1 511EC0F3
P 8050 6350
F 0 "IC?" H 7650 7500 60  0000 C CNN
F 1 "TLC5940" H 8050 6400 60  0000 C CNN
	1    8050 6350
	1    0    0    -1  
$EndComp
Text Notes 6200 1200 0    60   ~ 0
IREFpin  must be connected to GND\nthrough an IREF resistor\nThe max channel I of TLC5940 \n= V-IREF/R-IREF * 31.5. \nV-IREF is usually 1.24V, \nso R-IREF=2k2 yields \n17mA channel I
NoConn ~ 8700 4300
NoConn ~ 8700 4600
NoConn ~ 8700 4500
$Comp
L +5V #PWR?
U 1 1 511C6A4D
P 9100 2450
F 0 "#PWR?" H 9100 2540 20  0001 C CNN
F 1 "+5V" H 9100 2540 30  0000 C CNN
	1    9100 2450
	1    0    0    -1  
$EndComp
Text Notes 9150 4050 0    60   ~ 0
R
Text Notes 9150 4150 0    60   ~ 0
G
Text Notes 9150 4250 0    60   ~ 0
B
$Comp
L LED D?
U 1 1 511C69DC
P 8900 4000
F 0 "D?" H 8900 4100 50  0000 C CNN
F 1 "LED" H 8900 3900 50  0000 C CNN
	1    8900 4000
	-1   0    0    1   
$EndComp
$Comp
L LED D?
U 1 1 511C69DB
P 8900 4100
F 0 "D?" H 8900 4200 50  0000 C CNN
F 1 "LED" H 8900 4000 50  0000 C CNN
	1    8900 4100
	-1   0    0    1   
$EndComp
$Comp
L LED D?
U 1 1 511C69DA
P 8900 4200
F 0 "D?" H 8900 4300 50  0000 C CNN
F 1 "LED" H 8900 4100 50  0000 C CNN
	1    8900 4200
	-1   0    0    1   
$EndComp
$Comp
L LED D?
U 1 1 511C69D6
P 8900 3400
F 0 "D?" H 8900 3500 50  0000 C CNN
F 1 "LED" H 8900 3300 50  0000 C CNN
	1    8900 3400
	-1   0    0    1   
$EndComp
Text Notes 9150 3450 0    60   ~ 0
R
Text Notes 9150 3550 0    60   ~ 0
G
Text Notes 9150 3650 0    60   ~ 0
B
$Comp
L LED D?
U 1 1 511C69D5
P 8900 3500
F 0 "D?" H 8900 3600 50  0000 C CNN
F 1 "LED" H 8900 3400 50  0000 C CNN
	1    8900 3500
	-1   0    0    1   
$EndComp
$Comp
L LED D?
U 1 1 511C69D4
P 8900 3600
F 0 "D?" H 8900 3700 50  0000 C CNN
F 1 "LED" H 8900 3500 50  0000 C CNN
	1    8900 3600
	-1   0    0    1   
$EndComp
$Comp
L LED D?
U 1 1 511C69D3
P 8900 3900
F 0 "D?" H 8900 4000 50  0000 C CNN
F 1 "LED" H 8900 3800 50  0000 C CNN
	1    8900 3900
	-1   0    0    1   
$EndComp
$Comp
L LED D?
U 1 1 511C69D2
P 8900 3800
F 0 "D?" H 8900 3900 50  0000 C CNN
F 1 "LED" H 8900 3700 50  0000 C CNN
	1    8900 3800
	-1   0    0    1   
$EndComp
$Comp
L LED D?
U 1 1 511C69D1
P 8900 3700
F 0 "D?" H 8900 3800 50  0000 C CNN
F 1 "LED" H 8900 3600 50  0000 C CNN
	1    8900 3700
	-1   0    0    1   
$EndComp
Text Notes 9150 3950 0    60   ~ 0
B
Text Notes 9150 3850 0    60   ~ 0
G
Text Notes 9150 3750 0    60   ~ 0
R
Text Notes 9150 3150 0    60   ~ 0
R
Text Notes 9150 3250 0    60   ~ 0
G
Text Notes 9150 3350 0    60   ~ 0
B
$Comp
L LED D?
U 1 1 511C69C9
P 8900 3100
F 0 "D?" H 8900 3200 50  0000 C CNN
F 1 "LED" H 8900 3000 50  0000 C CNN
	1    8900 3100
	-1   0    0    1   
$EndComp
$Comp
L LED D?
U 1 1 511C69C8
P 8900 3200
F 0 "D?" H 8900 3300 50  0000 C CNN
F 1 "LED" H 8900 3100 50  0000 C CNN
	1    8900 3200
	-1   0    0    1   
$EndComp
$Comp
L LED D?
U 1 1 511C69C7
P 8900 3300
F 0 "D?" H 8900 3400 50  0000 C CNN
F 1 "LED" H 8900 3200 50  0000 C CNN
	1    8900 3300
	-1   0    0    1   
$EndComp
$Comp
L LED D?
U 1 1 511C69B0
P 8900 3000
F 0 "D?" H 8900 3100 50  0000 C CNN
F 1 "LED" H 8900 2900 50  0000 C CNN
	1    8900 3000
	-1   0    0    1   
$EndComp
$Comp
L LED D?
U 1 1 511C69AA
P 8900 2900
F 0 "D?" H 8900 3000 50  0000 C CNN
F 1 "LED" H 8900 2800 50  0000 C CNN
	1    8900 2900
	-1   0    0    1   
$EndComp
$Comp
L R-US R1
U 1 1 511C6957
P 7200 3950
F 0 "R1" H 7200 3950 60  0000 C CNN
F 1 "2K2" H 7200 3750 60  0000 C CNN
	1    7200 3950
	1    0    0    -1  
$EndComp
Text Notes 5550 4250 1    60   ~ 0
Parallel SIN
Text Notes 5550 6250 0    60   ~ 0
to BTH
$Comp
L +5V #PWR?
U 1 1 511C6518
P 8050 2550
F 0 "#PWR?" H 8050 2640 20  0001 C CNN
F 1 "+5V" H 8050 2640 30  0000 C CNN
	1    8050 2550
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 511C6511
P 8050 4950
F 0 "#PWR?" H 7800 5100 60  0001 C CNN
F 1 "GND" H 7950 4650 60  0001 C CNN
	1    8050 4950
	1    0    0    -1  
$EndComp
$Comp
L TLC5940 IC2
U 1 1 511C6504
P 8050 3650
F 0 "IC2" H 7650 4800 60  0000 C CNN
F 1 "TLC5940" H 8050 3700 60  0000 C CNN
	1    8050 3650
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 510AA641
P 3450 5250
F 0 "#PWR?" H 3200 5400 60  0001 C CNN
F 1 "GND" H 3350 4950 60  0001 C CNN
	1    3450 5250
	1    0    0    -1  
$EndComp
$Comp
L +5V #PWR?
U 1 1 510AA60F
P 2850 2900
F 0 "#PWR?" H 2850 2990 20  0001 C CNN
F 1 "+5V" H 2850 2990 30  0000 C CNN
	1    2850 2900
	0    -1   -1   0   
$EndComp
$Comp
L +5V #PWR?
U 1 1 510AA608
P 5050 10600
F 0 "#PWR?" H 5050 10690 20  0001 C CNN
F 1 "+5V" H 5050 10690 30  0000 C CNN
	1    5050 10600
	0    -1   -1   0   
$EndComp
$Comp
L R-US R?
U 1 1 510AA5F3
P 5250 10500
F 0 "R?" H 5250 10500 60  0000 C CNN
F 1 "330" H 5250 10300 60  0000 C CNN
	1    5250 10500
	1    0    0    -1  
$EndComp
$Comp
L LED D?
U 1 1 510AA5E5
P 5600 10600
F 0 "D?" H 5600 10700 50  0000 C CNN
F 1 "LED" H 5600 10500 50  0000 C CNN
	1    5600 10600
	1    0    0    -1  
$EndComp
Text Notes 5950 10950 0    60   ~ 0
Hall effect switch
$Comp
L NPN Q?
U 1 1 510AA5BD
P 5900 11250
F 0 "Q?" H 5730 11360 60  0000 C CNN
F 1 "NPN" H 5900 11150 60  0000 L CNN
	1    5900 11250
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 5105A0C7
P 5900 11500
F 0 "#PWR?" H 5900 11500 30  0001 C CNN
F 1 "GND" H 5900 11430 30  0001 C CNN
	1    5900 11500
	1    0    0    -1  
$EndComp
Text Notes 9300 3850 0    60   ~ 0
3
Text Notes 9300 4150 0    60   ~ 0
4
Text Notes 9300 3550 0    60   ~ 0
2
Text Notes 9300 3250 0    60   ~ 0
1
Text Notes 9300 2950 0    60   ~ 0
0
Text Notes 9150 3050 0    60   ~ 0
B
Text Notes 9150 2950 0    60   ~ 0
G
Text Notes 9150 2850 0    60   ~ 0
R
$Comp
L LED D?
U 1 1 50FE3B99
P 8900 2800
F 0 "D?" H 8900 2900 50  0000 C CNN
F 1 "LED" H 8900 2700 50  0000 C CNN
	1    8900 2800
	-1   0    0    1   
$EndComp
$Comp
L ATMEGA328-P IC1
U 1 1 50FE39DE
P 4350 4000
F 0 "IC1" H 3650 5250 50  0000 L BNN
F 1 "ATMEGA328-P" H 4600 2600 50  0000 L BNN
F 2 "DIL28" H 3750 2650 50  0001 C CNN
	1    4350 4000
	1    0    0    -1  
$EndComp
$EndSCHEMATC
